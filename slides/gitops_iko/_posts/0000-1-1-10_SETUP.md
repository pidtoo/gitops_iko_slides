<!-- .slide: data-background="#E6F7FF" -->

# SETUP
Understanding our starting point, so we can move on to Git Ops.


---

<section data-transition="none">

## Create Kubernetes Cluster

```python[1-19]
import random
import string
import google.auth
import google.auth.transport.requests
from google.cloud import container_v1
from google.oauth2 import service_account
from os.path import expanduser
from os import getenv
from string import punctuation

class GoogleCloudKubernetesClient(object):

    def __init__(self, project_id, zone):
        file = f'/home/sween/.gcp/pidtoo-fhir.json'
        credentials = service_account.Credentials.from_service_account_file(
            filename=file)
        thinger = "/projects/pidtoo-fhir/locations/us-east4a"
        self.project_id = "pidtoo-fhir"
        self.zone = "us-east4-a"
        self.client = container_v1.ClusterManagerClient(credentials=credentials)

```

Its a small guy, about $100 USD a month

</section>

<section data-transition="none">

## Create a Cluster

```python[4-12]
def cluster_spec(name, project):
    cluster_data = {
    "name": name,
    "network": "projects/pidtoo-fhir/global/networks/default",
    "addons_config": {
      "gce_persistent_disk_csi_driver_config": {
        "enabled": True
      }
    },
    "subnetwork": "projects/pidtoo-fhir/regions/us-east4/subnetworks/default",
    "node_pools": [
      {
        "name": name + "-pool",
        "config": {
          "machine_type": "g1-small",
```

Adjust it to fit your wallet.

</section>

---

<section data-transition="none">

## Install Argo Helm Chart
You will not regret this step.

```bash[1-2]
kubectl create namespace argocd
kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml

```

</section>

<section data-transition="none">

## Check Your Work

K9s pic

</section>


---


## Add A Couple of Secrets
These steps fall outside of Argo (and IKO), but enable them for sure.

 ```markdown
  ## containers.intersystems.com

  command

  -&nbsp;-&nbsp;-

  ## github.com

  command
  ```


---


<!-- .slide: data-background-transition="slide" data-background="https://a-nau.github.io/assets/img/sidebar-bg.jpg" -->

## Installs IKO  DAN DAN DAN DAN DAN DAN
Runs awesome helm command with kubectl

---

<!-- .slide: data-background-transition="slide" data-background="https://a-nau.github.io/assets/img/sidebar-bg.jpg" -->

## Inspection

k9s stuff maybe

---